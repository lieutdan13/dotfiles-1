---

- name: install packages
  sudo: true
  apt: >
      name={{ item }}
      state=latest
      update_cache=true
  with_items: vim_packages
  tags: packages

- name: add vim colors dir
  file: >
    path={{ ansible_env.HOME }}/.vim/colors
    state=directory
    mode=770

- name: install templates
  template: >
      src={{ item }}.j2
      dest={{ ansible_env.HOME }}/{{ item }}
      mode=640
  with_items: vim_templates

- name: install files
  copy: >
      src={{ item }}
      dest={{ ansible_env.HOME }}/{{ item }}
      mode=640
  with_items: vim_files
