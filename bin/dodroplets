#!/usr/bin/env bash 

set -eu
set -o pipefail

PREFIX="ny3.do"

droplets=(
    'dns0'
    'dns1'
    'nagios0'
    'apt0'
    'appdb0'
    'dw0'
    )

create() {
    for i in "${droplets[@]}"; do
        tugboat create "$i.$PREFIX"
    done
}

destroy() {
    for i in "${droplets[@]}"; do
        tugboat destroy $i
    done
}

usage() {
    echo "dodroplets < create | destroy >"
    exit 0
}


if [ $# -ne 1 ]; then
    usage
fi

case $1 in
    c*)
        create
        ;;
    d*)
        destroy
        ;;
    *)
        usage
        ;;
esac
